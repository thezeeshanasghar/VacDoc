(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{ZZme:function(n,l,e){"use strict";e.r(l);var i=e("8Y7J"),s=e("mrSG"),t=e("G7PA"),u=e("UXh4"),o=e("s7LF"),a=e("Hm4U"),r=e("4zgz"),c=e("6oYy");class d{constructor(n,l,e,i,s,t,u,o,a,r,c){this.loadingController=n,this.doseService=l,this.signupService=e,this.toastService=i,this.formBuilder=s,this.router=t,this.storage=u,this.activatedRoute=o,this.androidPermissions=a,this.sms=r,this.titlecasePipe=c}ngOnInit(){return s.a(this,void 0,void 0,(function*(){this.fg=this.formBuilder.group({}),this.ChildId=yield this.activatedRoute.snapshot.paramMap.get("id"),this.getVaccineInfo()}))}getVaccineInfo(){return s.a(this,void 0,void 0,(function*(){const n=yield this.loadingController.create({message:"Loading"});yield n.present(),yield this.doseService.getDoses().subscribe(l=>{l.IsSuccess?(this.doses=l.ResponseData,this.doses.forEach(n=>{this.fg.addControl(n.Name,new o.g(null==n.MinAge?0:n.MinAge,o.w.required)),n.IsSpecial=!1}),n.dismiss()):(n.dismiss(),this.toastService.create(l.Message,"danger"))},l=>{n.dismiss(),this.toastService.create(l,"danger")})}))}onSubmit(){this.addNewClinic()}addNewClinic(){return s.a(this,void 0,void 0,(function*(){const n=yield this.loadingController.create({message:"Loading"});yield n.present(),yield this.signupService.addDoctor().subscribe(l=>{l.IsSuccess?(this.addDoctorSchedule(l.ResponseData.Id),n.dismiss()):(n.dismiss(),this.toastService.create(l.Message,"danger"))},l=>{n.dismiss(),this.toastService.create(l,"danger")})}))}addDoctorSchedule(n){return s.a(this,void 0,void 0,(function*(){this.signupService.vaccineData=this.fg.value,this.signupService.vaccineData2=this.doses,yield this.signupService.addSchedule(n).subscribe(n=>{n.IsSuccess?(this.toastService.create("successfully added"),this.router.navigate(["/login"])):this.toastService.create(n.Message,"danger")},n=>{this.toastService.create(n,"danger")})}))}getdoses(){return s.a(this,void 0,void 0,(function*(){console.log(this.doses);let n=[];this.doses.forEach(l=>{l.IsSpecial&&n.push({DoseId:l.Id,ChildId:this.ChildId,IsDone:!1,Due2EPI:!1})}),console.log(n);const l=yield this.loadingController.create({message:"loading"});yield l.present(),n&&this.doseService.addScheduleDoseChild(n).subscribe(n=>{l.dismiss(),this.toastService.create("successfully Added","success"),this.router.navigate(["/members/child/vaccine/"+this.ChildId])},n=>{l.dismiss(),this.toastService.create(n,"danger")})}))}}class b{}var g=e("pMnS"),h=e("MKJQ"),p=e("sZkV"),v=e("SVse"),m=e("iInd"),f=e("xgBC"),S=i.pb({encapsulation:0,styles:[["ion-content[_ngcontent-%COMP%]{--background:#fff url('signup.469100d95f1c41a8a0a7.jpg') no-repeat center center/cover}.custom-item-background[_ngcontent-%COMP%]{--background:rgba(150, 150, 150, 0.188);color:#fff}"]],data:{}});function C(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,12,"ion-item",[["class","custom-item-background"]],null,null,null,h.xb,h.y)),i.qb(1,49152,null,0,p.H,[i.h,i.k,i.x],null,null),(n()(),i.rb(2,0,null,0,2,"ion-label",[],null,null,null,h.yb,h.z)),i.qb(3,49152,null,0,p.N,[i.h,i.k,i.x],null,null),(n()(),i.Lb(4,0,["",""])),(n()(),i.rb(5,0,null,0,7,"ion-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var s=!0;return"ionBlur"===l&&(s=!1!==i.Db(n,6)._handleBlurEvent(e.target)&&s),"ionChange"===l&&(s=!1!==i.Db(n,6)._handleIonChange(e.target)&&s),"ngModelChange"===l&&(s=!1!==(n.context.$implicit.IsSpecial=e)&&s),s}),h.kb,h.l)),i.qb(6,4341760,null,0,p.c,[i.p,i.k],null,null),i.Ib(1024,null,o.n,(function(n){return[n]}),[p.c]),i.qb(8,671744,null,0,o.s,[[2,o.b],[8,null],[8,null],[6,o.n]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),i.Gb(9,{standalone:0}),i.Ib(2048,null,o.o,null,[o.s]),i.qb(11,16384,null,0,o.p,[[4,o.o]],null,null),i.qb(12,49152,null,0,p.r,[i.h,i.k,i.x],null,null)],(function(n,l){var e=l.context.$implicit.IsSpecial,i=n(l,9,0,!0);n(l,8,0,e,i)}),(function(n,l){n(l,4,0,l.context.$implicit.Name),n(l,5,0,i.Db(l,11).ngClassUntouched,i.Db(l,11).ngClassTouched,i.Db(l,11).ngClassPristine,i.Db(l,11).ngClassDirty,i.Db(l,11).ngClassValid,i.Db(l,11).ngClassInvalid,i.Db(l,11).ngClassPending)}))}function D(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,18,"ion-content",[["class","ion-padding"]],null,null,null,h.mb,h.n)),i.qb(1,49152,null,0,p.u,[i.h,i.k,i.x],null,null),(n()(),i.rb(2,0,null,0,13,"ion-card",[["style","background-color: rgba(83, 83, 83, 0.411);"]],null,null,null,h.jb,h.g)),i.qb(3,49152,null,0,p.m,[i.h,i.k,i.x],null,null),(n()(),i.rb(4,0,null,0,4,"ion-toolbar",[["color","rgba(81, 81, 81, 0.289);"],["style","margin-top: 10px;"]],null,null,null,h.Xb,h.Y)),i.qb(5,49152,null,0,p.zb,[i.h,i.k,i.x],{color:[0,"color"]},null),(n()(),i.rb(6,0,null,0,2,"ion-title",[["style","text-align: center; color: white;"]],null,null,null,h.Vb,h.W)),i.qb(7,49152,null,0,p.xb,[i.h,i.k,i.x],null,null),(n()(),i.Lb(-1,0,["Doses"])),(n()(),i.rb(9,0,null,0,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,e){var s=!0,t=n.component;return"submit"===l&&(s=!1!==i.Db(n,11).onSubmit(e)&&s),"reset"===l&&(s=!1!==i.Db(n,11).onReset()&&s),"ngSubmit"===l&&(s=!1!==t.onSubmit()&&s),s}),null,null)),i.qb(10,16384,null,0,o.A,[],null,null),i.qb(11,540672,null,0,o.j,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),i.Ib(2048,null,o.b,null,[o.j]),i.qb(13,16384,null,0,o.q,[[4,o.b]],null,null),(n()(),i.gb(16777216,null,null,1,null,C)),i.qb(15,278528,null,0,v.l,[i.N,i.K,i.q],{ngForOf:[0,"ngForOf"]},null),(n()(),i.rb(16,0,null,0,2,"ion-button",[["style","display: block; margin: auto; width: 150px;"]],null,[[null,"click"]],(function(n,l,e){var i=!0;return"click"===l&&(i=!1!==n.component.getdoses()&&i),i}),h.db,h.e)),i.qb(17,49152,null,0,p.k,[i.h,i.k,i.x],null,null),(n()(),i.Lb(-1,0,["Finish"]))],(function(n,l){var e=l.component;n(l,5,0,"rgba(81, 81, 81, 0.289);"),n(l,11,0,e.fg),n(l,15,0,e.doses)}),(function(n,l){n(l,9,0,i.Db(l,13).ngClassUntouched,i.Db(l,13).ngClassTouched,i.Db(l,13).ngClassPristine,i.Db(l,13).ngClassDirty,i.Db(l,13).ngClassValid,i.Db(l,13).ngClassInvalid,i.Db(l,13).ngClassPending)}))}function I(n){return i.Nb(0,[(n()(),i.gb(16777216,null,null,1,null,D)),i.qb(1,16384,null,0,v.m,[i.N,i.K],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,1,0,l.component.doses)}),null)}function y(n){return i.Nb(0,[(n()(),i.rb(0,0,null,null,1,"app-specialCase",[],null,null,null,I,S)),i.qb(1,114688,null,0,d,[p.Db,t.a,a.a,u.a,o.f,m.n,f.b,m.a,r.a,c.a,v.u],null,null)],(function(n,l){n(l,1,0)}),null)}var k=i.nb("app-specialCase",d,y,{},{},[]);e.d(l,"SpecialCasePageModuleNgFactory",(function(){return B}));var B=i.ob(b,[],(function(n){return i.Ab([i.Bb(512,i.j,i.Z,[[8,[g.a,k]],[3,i.j],i.v]),i.Bb(4608,v.o,v.n,[i.s,[2,v.D]]),i.Bb(4608,o.y,o.y,[]),i.Bb(4608,p.b,p.b,[i.x,i.g]),i.Bb(4608,p.Eb,p.Eb,[p.b,i.j,i.p]),i.Bb(4608,p.Ib,p.Ib,[p.b,i.j,i.p]),i.Bb(4608,o.f,o.f,[]),i.Bb(1073742336,v.b,v.b,[]),i.Bb(1073742336,o.x,o.x,[]),i.Bb(1073742336,o.l,o.l,[]),i.Bb(1073742336,p.Bb,p.Bb,[]),i.Bb(1073742336,m.q,m.q,[[2,m.v],[2,m.n]]),i.Bb(1073742336,o.u,o.u,[]),i.Bb(1073742336,b,b,[]),i.Bb(1024,m.l,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);