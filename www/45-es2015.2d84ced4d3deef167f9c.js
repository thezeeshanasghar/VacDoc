(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{Kl70:function(l,n,u){"use strict";u.r(n);var r=u("8Y7J"),e=u("mrSG"),i=u("s7LF"),s=u("EFyh"),o=u("UXh4"),t=u("AytR");class a{constructor(l,n,u,r,e,i){this.formBuilder=l,this.loadingController=n,this.storage=u,this.loginService=r,this.toastService=e,this.router=i,this.validation_messages={old_password:[{type:"required",message:"Old password is required."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 4 characters long."}],confirm_password:[{type:"required",message:"Confirm password is required."}],matching_passwords:[{type:"areEqual",message:"Password mismatch."}]}}ngOnInit(){this.storage.get(t.a.USER_Id).then(l=>{this.userId=l}),this.matching_passwords_group=new i.i({password:new i.g("",i.w.compose([i.w.minLength(4),i.w.required])),confirm_password:new i.g("",i.w.required)},l=>class{static areEqual(l){let n,u=!0;for(let r in l.controls)if(l.controls.hasOwnProperty(r)){let e=l.controls[r];if(void 0===n)n=e.value;else if(n!==e.value){u=!1;break}}return u?null:{areEqual:!0}}}.areEqual(l)),this.fg=this.formBuilder.group({UserId:[null],OldPassword:new i.g("",i.w.required),NewPassword:[null],matching_passwords:this.matching_passwords_group})}changePassword(){return e.a(this,void 0,void 0,(function*(){this.fg.value.UserId=this.userId,this.fg.value.NewPassword=this.matching_passwords_group.value.password,console.log(this.fg.value);const l=yield this.loadingController.create({message:"Loading"});yield l.present(),console.log(this.fg.value),yield this.loginService.ChangePassword(this.fg.value).subscribe(n=>{n.IsSuccess?(l.dismiss(),this.toastService.create("Successfully Updated"),this.endSession(),this.router.navigate(["/login"])):(l.dismiss(),this.toastService.create(n.Message,"danger"))},n=>{l.dismiss(),this.toastService.create(n,"danger")})}))}endSession(){this.storage.remove(t.a.USER_Id)}clearStorage(){this.storage.clear().then(()=>{this.clinicService.clinics=null,this.clinicService.doctorId=null,this.clinicService.OnlineClinicId=null}).catch(l=>{console.error("Error clearing storage:",l)})}}class b{}var g=u("pMnS"),d=u("MKJQ"),c=u("sZkV"),p=u("SVse"),h=u("xgBC"),m=u("iInd"),f=r.pb({encapsulation:0,styles:[[".error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-left:10px;margin-top:10px}.header[_ngcontent-%COMP%]{background-color:#0089f9}"]],data:{}});function w(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,3,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),r.rb(1,0,null,null,1,"ion-icon",[["name","information-circle-outline"]],null,null,null,d.sb,d.t)),r.qb(2,49152,null,0,c.C,[r.h,r.k,r.x],{name:[0,"name"]},null),(l()(),r.Lb(3,null,[" "," "]))],(function(l,n){l(n,2,0,"information-circle-outline")}),(function(l,n){l(n,3,0,n.parent.context.$implicit.message)}))}function q(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),r.gb(16777216,null,null,1,null,w)),r.qb(2,16384,null,0,p.m,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(l()(),r.gb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.fg.get("OldPassword").hasError(n.context.$implicit.type)&&(u.fg.get("OldPassword").dirty||u.fg.get("OldPassword").touched))}),null)}function v(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,3,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),r.rb(1,0,null,null,1,"ion-icon",[["name","information-circle-outline"]],null,null,null,d.sb,d.t)),r.qb(2,49152,null,0,c.C,[r.h,r.k,r.x],{name:[0,"name"]},null),(l()(),r.Lb(3,null,[" "," "]))],(function(l,n){l(n,2,0,"information-circle-outline")}),(function(l,n){l(n,3,0,n.parent.context.$implicit.message)}))}function C(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),r.gb(16777216,null,null,1,null,v)),r.qb(2,16384,null,0,p.m,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(l()(),r.gb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.fg.get("matching_passwords").get("password").hasError(n.context.$implicit.type)&&(u.fg.get("matching_passwords").get("password").dirty||u.fg.get("matching_passwords").get("password").touched))}),null)}function D(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,3,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),r.rb(1,0,null,null,1,"ion-icon",[["name","information-circle-outline"]],null,null,null,d.sb,d.t)),r.qb(2,49152,null,0,c.C,[r.h,r.k,r.x],{name:[0,"name"]},null),(l()(),r.Lb(3,null,[" "," "]))],(function(l,n){l(n,2,0,"information-circle-outline")}),(function(l,n){l(n,3,0,n.parent.context.$implicit.message)}))}function y(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),r.gb(16777216,null,null,1,null,D)),r.qb(2,16384,null,0,p.m,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(l()(),r.gb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.fg.get("matching_passwords").get("confirm_password").hasError(n.context.$implicit.type)&&(u.fg.get("matching_passwords").get("confirm_password").dirty||u.fg.get("matching_passwords").get("confirm_password").touched))}),null)}function _(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,3,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),r.rb(1,0,null,null,1,"ion-icon",[["name","information-circle-outline"]],null,null,null,d.sb,d.t)),r.qb(2,49152,null,0,c.C,[r.h,r.k,r.x],{name:[0,"name"]},null),(l()(),r.Lb(3,null,[" "," "]))],(function(l,n){l(n,2,0,"information-circle-outline")}),(function(l,n){l(n,3,0,n.parent.context.$implicit.message)}))}function x(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),r.gb(16777216,null,null,1,null,_)),r.qb(2,16384,null,0,p.m,[r.N,r.K],{ngIf:[0,"ngIf"]},null),(l()(),r.gb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.fg.get("matching_passwords").hasError(n.context.$implicit.type)&&(u.fg.get("matching_passwords").get("confirm_password").dirty||u.fg.get("matching_passwords").get("confirm_password").touched))}),null)}function I(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,10,"ion-header",[["class","header"]],null,null,null,d.rb,d.s)),r.qb(1,49152,null,0,c.B,[r.h,r.k,r.x],null,null),(l()(),r.rb(2,0,null,0,8,"ion-toolbar",[["color","white"]],null,null,null,d.Xb,d.Y)),r.qb(3,49152,null,0,c.zb,[r.h,r.k,r.x],{color:[0,"color"]},null),(l()(),r.rb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,d.eb,d.f)),r.qb(5,49152,null,0,c.l,[r.h,r.k,r.x],null,null),(l()(),r.rb(6,0,null,0,1,"ion-menu-button",[],null,null,null,d.Bb,d.D)),r.qb(7,49152,null,0,c.R,[r.h,r.k,r.x],null,null),(l()(),r.rb(8,0,null,0,2,"ion-title",[["style","color: antiquewhite;"]],null,null,null,d.Vb,d.W)),r.qb(9,49152,null,0,c.xb,[r.h,r.k,r.x],null,null),(l()(),r.Lb(-1,0,["Change Password"])),(l()(),r.rb(11,0,null,null,69,"ion-content",[["padding",""]],null,null,null,d.mb,d.n)),r.qb(12,49152,null,0,c.u,[r.h,r.k,r.x],null,null),(l()(),r.rb(13,0,null,0,67,"ion-card",[],null,null,null,d.jb,d.g)),r.qb(14,49152,null,0,c.m,[r.h,r.k,r.x],null,null),(l()(),r.rb(15,0,null,0,65,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0;return"submit"===n&&(e=!1!==r.Db(l,17).onSubmit(u)&&e),"reset"===n&&(e=!1!==r.Db(l,17).onReset()&&e),e}),null,null)),r.qb(16,16384,null,0,i.A,[],null,null),r.qb(17,540672,null,0,i.j,[[8,null],[8,null]],{form:[0,"form"]},null),r.Ib(2048,null,i.b,null,[i.j]),r.qb(19,16384,null,0,i.q,[[4,i.b]],null,null),(l()(),r.rb(20,0,null,null,13,"ion-item",[],null,null,null,d.xb,d.y)),r.qb(21,49152,null,0,c.H,[r.h,r.k,r.x],null,null),(l()(),r.rb(22,0,null,0,2,"ion-label",[["color","white"],["position","floating"]],null,null,null,d.yb,d.z)),r.qb(23,49152,null,0,c.N,[r.h,r.k,r.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),r.Lb(-1,0,["Old Password"])),(l()(),r.rb(25,0,null,0,8,"ion-input",[["formControlName","OldPassword"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==r.Db(l,28)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==r.Db(l,28)._handleInputEvent(u.target)&&e),e}),d.wb,d.x)),r.qb(26,16384,null,0,i.v,[],{required:[0,"required"]},null),r.Ib(1024,null,i.m,(function(l){return[l]}),[i.v]),r.qb(28,4341760,null,0,c.Mb,[r.p,r.k],null,null),r.Ib(1024,null,i.n,(function(l){return[l]}),[c.Mb]),r.qb(30,671744,null,0,i.h,[[3,i.b],[6,i.m],[8,null],[6,i.n],[2,i.z]],{name:[0,"name"]},null),r.Ib(2048,null,i.o,null,[i.h]),r.qb(32,16384,null,0,i.p,[[4,i.o]],null,null),r.qb(33,49152,null,0,c.G,[r.h,r.k,r.x],{required:[0,"required"],type:[1,"type"]},null),(l()(),r.rb(34,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),r.gb(16777216,null,null,1,null,q)),r.qb(36,278528,null,0,p.l,[r.N,r.K,r.q],{ngForOf:[0,"ngForOf"]},null),(l()(),r.rb(37,0,null,null,37,"div",[["formGroupName","matching_passwords"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),r.qb(38,212992,null,0,i.k,[[3,i.b],[8,null],[8,null]],{name:[0,"name"]},null),r.Ib(2048,null,i.b,null,[i.k]),r.qb(40,16384,null,0,i.q,[[4,i.b]],null,null),(l()(),r.rb(41,0,null,null,13,"ion-item",[["class","custom-item-background"]],null,null,null,d.xb,d.y)),r.qb(42,49152,null,0,c.H,[r.h,r.k,r.x],null,null),(l()(),r.rb(43,0,null,0,2,"ion-label",[["color","white"],["position","floating"]],null,null,null,d.yb,d.z)),r.qb(44,49152,null,0,c.N,[r.h,r.k,r.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),r.Lb(-1,0,["New Password"])),(l()(),r.rb(46,0,null,0,8,"ion-input",[["formControlName","password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==r.Db(l,49)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==r.Db(l,49)._handleInputEvent(u.target)&&e),e}),d.wb,d.x)),r.qb(47,16384,null,0,i.v,[],{required:[0,"required"]},null),r.Ib(1024,null,i.m,(function(l){return[l]}),[i.v]),r.qb(49,4341760,null,0,c.Mb,[r.p,r.k],null,null),r.Ib(1024,null,i.n,(function(l){return[l]}),[c.Mb]),r.qb(51,671744,null,0,i.h,[[3,i.b],[6,i.m],[8,null],[6,i.n],[2,i.z]],{name:[0,"name"]},null),r.Ib(2048,null,i.o,null,[i.h]),r.qb(53,16384,null,0,i.p,[[4,i.o]],null,null),r.qb(54,49152,null,0,c.G,[r.h,r.k,r.x],{required:[0,"required"],type:[1,"type"]},null),(l()(),r.rb(55,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),r.gb(16777216,null,null,1,null,C)),r.qb(57,278528,null,0,p.l,[r.N,r.K,r.q],{ngForOf:[0,"ngForOf"]},null),(l()(),r.rb(58,0,null,null,13,"ion-item",[],null,null,null,d.xb,d.y)),r.qb(59,49152,null,0,c.H,[r.h,r.k,r.x],null,null),(l()(),r.rb(60,0,null,0,2,"ion-label",[["color","white"],["position","floating"]],null,null,null,d.yb,d.z)),r.qb(61,49152,null,0,c.N,[r.h,r.k,r.x],{color:[0,"color"],position:[1,"position"]},null),(l()(),r.Lb(-1,0,["Confirm Password"])),(l()(),r.rb(63,0,null,0,8,"ion-input",[["formControlName","confirm_password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==r.Db(l,66)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==r.Db(l,66)._handleInputEvent(u.target)&&e),e}),d.wb,d.x)),r.qb(64,16384,null,0,i.v,[],{required:[0,"required"]},null),r.Ib(1024,null,i.m,(function(l){return[l]}),[i.v]),r.qb(66,4341760,null,0,c.Mb,[r.p,r.k],null,null),r.Ib(1024,null,i.n,(function(l){return[l]}),[c.Mb]),r.qb(68,671744,null,0,i.h,[[3,i.b],[6,i.m],[8,null],[6,i.n],[2,i.z]],{name:[0,"name"]},null),r.Ib(2048,null,i.o,null,[i.h]),r.qb(70,16384,null,0,i.p,[[4,i.o]],null,null),r.qb(71,49152,null,0,c.G,[r.h,r.k,r.x],{required:[0,"required"],type:[1,"type"]},null),(l()(),r.rb(72,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),r.gb(16777216,null,null,1,null,y)),r.qb(74,278528,null,0,p.l,[r.N,r.K,r.q],{ngForOf:[0,"ngForOf"]},null),(l()(),r.rb(75,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),r.gb(16777216,null,null,1,null,x)),r.qb(77,278528,null,0,p.l,[r.N,r.K,r.q],{ngForOf:[0,"ngForOf"]},null),(l()(),r.rb(78,0,null,null,2,"ion-button",[["style","display: block; margin: auto; width: 150px; margin-top: 15px; margin-bottom: 15px;"]],null,[[null,"click"]],(function(l,n,u){var r=!0;return"click"===n&&(r=!1!==l.component.changePassword()&&r),r}),d.db,d.e)),r.qb(79,49152,null,0,c.k,[r.h,r.k,r.x],{disabled:[0,"disabled"]},null),(l()(),r.Lb(-1,0,["Submit"]))],(function(l,n){var u=n.component;l(n,3,0,"white"),l(n,17,0,u.fg),l(n,23,0,"white","floating"),l(n,26,0,""),l(n,30,0,"OldPassword"),l(n,33,0,"","password"),l(n,36,0,u.validation_messages.old_password),l(n,38,0,"matching_passwords"),l(n,44,0,"white","floating"),l(n,47,0,""),l(n,51,0,"password"),l(n,54,0,"","password"),l(n,57,0,u.validation_messages.password),l(n,61,0,"white","floating"),l(n,64,0,""),l(n,68,0,"confirm_password"),l(n,71,0,"","password"),l(n,74,0,u.validation_messages.confirm_password),l(n,77,0,u.validation_messages.matching_passwords),l(n,79,0,!u.fg.valid)}),(function(l,n){l(n,15,0,r.Db(n,19).ngClassUntouched,r.Db(n,19).ngClassTouched,r.Db(n,19).ngClassPristine,r.Db(n,19).ngClassDirty,r.Db(n,19).ngClassValid,r.Db(n,19).ngClassInvalid,r.Db(n,19).ngClassPending),l(n,25,0,r.Db(n,26).required?"":null,r.Db(n,32).ngClassUntouched,r.Db(n,32).ngClassTouched,r.Db(n,32).ngClassPristine,r.Db(n,32).ngClassDirty,r.Db(n,32).ngClassValid,r.Db(n,32).ngClassInvalid,r.Db(n,32).ngClassPending),l(n,37,0,r.Db(n,40).ngClassUntouched,r.Db(n,40).ngClassTouched,r.Db(n,40).ngClassPristine,r.Db(n,40).ngClassDirty,r.Db(n,40).ngClassValid,r.Db(n,40).ngClassInvalid,r.Db(n,40).ngClassPending),l(n,46,0,r.Db(n,47).required?"":null,r.Db(n,53).ngClassUntouched,r.Db(n,53).ngClassTouched,r.Db(n,53).ngClassPristine,r.Db(n,53).ngClassDirty,r.Db(n,53).ngClassValid,r.Db(n,53).ngClassInvalid,r.Db(n,53).ngClassPending),l(n,63,0,r.Db(n,64).required?"":null,r.Db(n,70).ngClassUntouched,r.Db(n,70).ngClassTouched,r.Db(n,70).ngClassPristine,r.Db(n,70).ngClassDirty,r.Db(n,70).ngClassValid,r.Db(n,70).ngClassInvalid,r.Db(n,70).ngClassPending)}))}function k(l){return r.Nb(0,[(l()(),r.rb(0,0,null,null,1,"app-password",[],null,null,null,I,f)),r.qb(1,114688,null,0,a,[i.f,c.Db,h.b,s.a,o.a,m.n],null,null)],(function(l,n){l(n,1,0)}),null)}var P=r.nb("app-password",a,k,{},{},[]);u.d(n,"PasswordPageModuleNgFactory",(function(){return B}));var B=r.ob(b,[],(function(l){return r.Ab([r.Bb(512,r.j,r.Z,[[8,[g.a,P]],[3,r.j],r.v]),r.Bb(4608,p.o,p.n,[r.s,[2,p.D]]),r.Bb(4608,i.y,i.y,[]),r.Bb(4608,c.b,c.b,[r.x,r.g]),r.Bb(4608,c.Eb,c.Eb,[c.b,r.j,r.p]),r.Bb(4608,c.Ib,c.Ib,[c.b,r.j,r.p]),r.Bb(4608,i.f,i.f,[]),r.Bb(1073742336,p.b,p.b,[]),r.Bb(1073742336,i.x,i.x,[]),r.Bb(1073742336,i.l,i.l,[]),r.Bb(1073742336,c.Bb,c.Bb,[]),r.Bb(1073742336,m.q,m.q,[[2,m.v],[2,m.n]]),r.Bb(1073742336,i.u,i.u,[]),r.Bb(1073742336,b,b,[]),r.Bb(1024,m.l,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);