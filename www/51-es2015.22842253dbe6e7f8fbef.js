(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{qR6w:function(l,n,e){"use strict";e.r(n);var u=e("8Y7J"),i=e("mrSG"),t=e("G7PA"),s=e("UXh4"),o=e("s7LF"),r=e("Hm4U"),c=e("AytR"),a=e("4zgz"),b=e("6oYy");class d{constructor(l,n,e,u,i,t,s,o,r,c,a){this.loadingController=l,this.doseService=n,this.signupService=e,this.toastService=u,this.formBuilder=i,this.router=t,this.storage=s,this.activatedRoute=o,this.androidPermissions=r,this.sms=c,this.titlecasePipe=a}ngOnInit(){return i.a(this,void 0,void 0,(function*(){this.fg=this.formBuilder.group({}),yield this.storage.get(c.a.DOCTOR_Id).then(l=>{this.doctorId=l}),this.getVaccineInfo(this.doctorId)}))}getVaccineInfo(l){return i.a(this,void 0,void 0,(function*(){const n=yield this.loadingController.create({message:"Loading"});yield n.present(),yield this.doseService.getNewDoses(l).subscribe(l=>{l.IsSuccess?(this.doses=l.ResponseData,this.doses.forEach(l=>{this.fg.addControl(l.Name,new o.g(null==l.MinAge?0:l.MinAge,o.w.required)),l.IsSpecial=!1}),n.dismiss()):(n.dismiss(),this.toastService.create(l.Message,"danger"))},l=>{n.dismiss(),this.toastService.create(l,"danger")})}))}onSubmit(){console.log(this.fg.value)}updateDoctorSchedule(l){return i.a(this,void 0,void 0,(function*(){this.signupService.vaccineData=this.fg.value,yield this.signupService.addSchedule(l).subscribe(l=>{l.IsSuccess?(this.toastService.create("successfully added"),this.router.navigate(["/login"])):this.toastService.create(l.Message,"danger")},l=>{this.toastService.create(l,"danger")})}))}getdoses(){return i.a(this,void 0,void 0,(function*(){let l=[];console.log("doses",this.doses),this.doses.forEach(n=>{1==n.IsSpecial&&l.push({DoseId:n.Id,DoctorId:this.doctorId,GapInDays:n.MinAge})}),console.log("newschedule",l);const n=yield this.loadingController.create({message:"loading"});yield n.present(),l&&this.doseService.addScheduleDose(l).subscribe(l=>{n.dismiss(),this.toastService.create("successfully Added","success"),this.router.navigate(["/members/doctor/schedule"])},l=>{n.dismiss(),this.toastService.create(l,"danger")})}))}}class h{}var g=e("pMnS"),p=e("MKJQ"),v=e("sZkV"),f=e("SVse"),m=e("iInd"),S=e("xgBC"),k=u.pb({encapsulation:0,styles:[[""]],data:{}});function q(l){return u.Nb(0,[(l()(),u.rb(0,0,null,null,15,"ion-row",[],null,null,null,p.Jb,p.K)),u.qb(1,49152,null,0,v.gb,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,13,"ion-col",[["size","12"]],null,null,null,p.lb,p.m)),u.qb(3,49152,null,0,v.t,[u.h,u.k,u.x],{size:[0,"size"]},null),(l()(),u.rb(4,0,null,0,11,"ion-item",[],null,null,null,p.xb,p.y)),u.qb(5,49152,null,0,v.H,[u.h,u.k,u.x],null,null),(l()(),u.rb(6,0,null,0,6,"ion-checkbox",[["slot","start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var i=!0;return"ionBlur"===n&&(i=!1!==u.Db(l,7)._handleBlurEvent(e.target)&&i),"ionChange"===n&&(i=!1!==u.Db(l,7)._handleIonChange(e.target)&&i),"ngModelChange"===n&&(i=!1!==(l.context.$implicit.IsSpecial=e)&&i),i}),p.kb,p.l)),u.qb(7,4341760,null,0,v.c,[u.p,u.k],null,null),u.Ib(1024,null,o.n,(function(l){return[l]}),[v.c]),u.qb(9,671744,null,0,o.s,[[8,null],[8,null],[8,null],[6,o.n]],{model:[0,"model"]},{update:"ngModelChange"}),u.Ib(2048,null,o.o,null,[o.s]),u.qb(11,16384,null,0,o.p,[[4,o.o]],null,null),u.qb(12,49152,null,0,v.r,[u.h,u.k,u.x],null,null),(l()(),u.rb(13,0,null,0,2,"ion-label",[],null,null,null,p.yb,p.z)),u.qb(14,49152,null,0,v.N,[u.h,u.k,u.x],null,null),(l()(),u.Lb(15,0,["",""]))],(function(l,n){l(n,3,0,"12"),l(n,9,0,n.context.$implicit.IsSpecial)}),(function(l,n){l(n,6,0,u.Db(n,11).ngClassUntouched,u.Db(n,11).ngClassTouched,u.Db(n,11).ngClassPristine,u.Db(n,11).ngClassDirty,u.Db(n,11).ngClassValid,u.Db(n,11).ngClassInvalid,u.Db(n,11).ngClassPending),l(n,15,0,n.context.$implicit.Name)}))}function B(l){return u.Nb(0,[(l()(),u.rb(0,0,null,null,11,"ion-header",[],null,null,null,p.rb,p.s)),u.qb(1,49152,null,0,v.B,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,9,"ion-toolbar",[["color","primary"]],null,null,null,p.Xb,p.Y)),u.qb(3,49152,null,0,v.zb,[u.h,u.k,u.x],{color:[0,"color"]},null),(l()(),u.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,p.eb,p.f)),u.qb(5,49152,null,0,v.l,[u.h,u.k,u.x],null,null),(l()(),u.rb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==u.Db(l,8).onClick(e)&&i),i}),p.bb,p.c)),u.qb(7,49152,null,0,v.g,[u.h,u.k,u.x],null,null),u.qb(8,16384,null,0,v.h,[[2,v.fb],v.Fb,v.d],null,null),(l()(),u.rb(9,0,null,0,2,"ion-title",[],null,null,null,p.Vb,p.W)),u.qb(10,49152,null,0,v.xb,[u.h,u.k,u.x],null,null),(l()(),u.Lb(-1,0,["Vaccine Schedule"])),(l()(),u.rb(12,0,null,null,8,"ion-content",[["class","ion-padding"]],null,null,null,p.mb,p.n)),u.qb(13,49152,null,0,v.u,[u.h,u.k,u.x],null,null),(l()(),u.rb(14,0,null,0,3,"ion-grid",[],null,null,null,p.qb,p.r)),u.qb(15,49152,null,0,v.A,[u.h,u.k,u.x],null,null),(l()(),u.gb(16777216,null,0,1,null,q)),u.qb(17,278528,null,0,f.l,[u.N,u.K,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.rb(18,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.getdoses()&&u),u}),p.db,p.e)),u.qb(19,49152,null,0,v.k,[u.h,u.k,u.x],null,null),(l()(),u.Lb(-1,0,["Finish"]))],(function(l,n){var e=n.component;l(n,3,0,"primary"),l(n,17,0,e.doses)}),null)}function I(l){return u.Nb(0,[(l()(),u.rb(0,0,null,null,1,"app-schedueedit",[],null,null,null,B,k)),u.qb(1,114688,null,0,d,[v.Db,t.a,r.a,s.a,o.f,m.n,S.b,m.a,a.a,b.a,f.u],null,null)],(function(l,n){l(n,1,0)}),null)}var x=u.nb("app-schedueedit",d,I,{},{},[]);e.d(n,"SceduleEditPageModuleNgFactory",(function(){return y}));var y=u.ob(h,[],(function(l){return u.Ab([u.Bb(512,u.j,u.Z,[[8,[g.a,x]],[3,u.j],u.v]),u.Bb(4608,f.o,f.n,[u.s,[2,f.D]]),u.Bb(4608,o.y,o.y,[]),u.Bb(4608,v.b,v.b,[u.x,u.g]),u.Bb(4608,v.Eb,v.Eb,[v.b,u.j,u.p]),u.Bb(4608,v.Ib,v.Ib,[v.b,u.j,u.p]),u.Bb(4608,o.f,o.f,[]),u.Bb(1073742336,f.b,f.b,[]),u.Bb(1073742336,o.x,o.x,[]),u.Bb(1073742336,o.l,o.l,[]),u.Bb(1073742336,v.Bb,v.Bb,[]),u.Bb(1073742336,m.q,m.q,[[2,m.v],[2,m.n]]),u.Bb(1073742336,o.u,o.u,[]),u.Bb(1073742336,h,h,[]),u.Bb(1024,m.l,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);